/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/@coreui/coreui@3.0.0/js/src/class-toggler.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{getjQuery}from"./util/index";import Data from"./dom/data";import EventHandler from"./dom/event-handler";const NAME="class-toggler",VERSION="3.0.0",DATA_KEY="coreui.class-toggler",EVENT_KEY=`.${DATA_KEY}`,DATA_API_KEY=".data-api",Default={breakpoints:"-sm,-md,-lg,-xl",postfix:"-show",responsive:!1,target:"body"},ClassName={CLASS_TOGGLER:"c-class-toggler"},Event={CLASS_TOGGLE:"classtoggle",CLICK_DATA_API:`click${EVENT_KEY}.data-api`},Selector={CLASS_TOGGLER:".c-class-toggler"};class ClassToggler{constructor(t){this._element=t}static get VERSION(){return VERSION}toggle(){this._getElementDataAttributes(this._element).forEach(t=>{let e;const{target:s,toggle:r}=t;e="_parent"===s||"parent"===s?this._element.parentNode:document.querySelector(s),r.forEach(t=>{const{className:r,responsive:a,postfix:o}=t,i=void 0===t.breakpoints||null===t.breakpoints?null:this._arrayFromString(t.breakpoints);if(a){let t;i.forEach(e=>{r.includes(e)&&(t=e)});const a=[];void 0===t?a.push(r):(a.push(r.replace(`${t}${o}`,o)),i.splice(0,i.indexOf(t)+1).forEach(e=>{a.push(r.replace(`${t}${o}`,`${e}${o}`))}));let l=!1;if(a.forEach(t=>{e.classList.contains(t)&&(l=!0)}),l)a.forEach(t=>{e.classList.remove(t);const r=new CustomEvent(Event.CLASS_TOGGLE,{detail:{target:s,add:!1,className:t}});e.dispatchEvent(r)});else{e.classList.add(r);const t=new CustomEvent(Event.CLASS_TOGGLE,{detail:{target:s,add:!0,className:r}});e.dispatchEvent(t)}}else{const t=e.classList.toggle(r),a=new CustomEvent(Event.CLASS_TOGGLE,{detail:{target:s,add:t,className:r}});e.dispatchEvent(a)}})})}_arrayFromString(t){return t.replace(/ /g,"").split(",")}_isArray(t){try{return JSON.parse(t.replace(/'/g,'"')),!0}catch{return!1}}_convertToArray(t){return JSON.parse(t.replace(/'/g,'"'))}_getDataAttributes(t,e){const s=t[e];return this._isArray(s)?this._convertToArray(s):s}_getToggleDetails(t,e,s,r){class a{constructor(t,e=Default.responsive,s,r){this.className=t,this.responsive=e,this.breakpoints=s,this.postfix=r}}const o=[];return Array.isArray(t)?t.forEach((t,i)=>{e=Array.isArray(e)?e[i]:e,s=e?Array.isArray(s)?s[i]:s:null,r=e?Array.isArray(r)?r[i]:r:null,o.push(new a(t,e,s,r))}):(s=e?s:null,r=e?r:null,o.push(new a(t,e,s,r))),o}_ifArray(t,e){return Array.isArray(t)?t[e]:t}_getElementDataAttributes(t){const e=t.dataset,s=void 0===e.target?Default.target:this._getDataAttributes(e,"target"),r=void 0===e.class?"undefined":this._getDataAttributes(e,"class"),a=void 0===e.responsive?Default.responsive:this._getDataAttributes(e,"responsive"),o=void 0===e.breakpoints?Default.breakpoints:this._getDataAttributes(e,"breakpoints"),i=void 0===e.postfix?Default.postfix:this._getDataAttributes(e,"postfix"),l=[];class n{constructor(t,e){this.target=t,this.toggle=e}}return Array.isArray(s)?s.forEach((t,e)=>{l.push(new n(t,this._getToggleDetails(this._ifArray(r,e),this._ifArray(a,e),this._ifArray(o,e),this._ifArray(i,e))))}):l.push(new n(s,this._getToggleDetails(r,a,o,i))),l}static _classTogglerInterface(t,e){let s=Data.getData(t,DATA_KEY);if(s||(s=new ClassToggler(t,"object"==typeof e&&e)),"string"==typeof e){if(void 0===s[e])throw new TypeError(`No method named "${e}"`);s[e]()}}static jQueryInterface(t){return this.each(function(){ClassToggler._classTogglerInterface(this,t)})}}EventHandler.on(document,Event.CLICK_DATA_API,Selector.CLASS_TOGGLER,t=>{t.preventDefault();let e=t.target;e.classList.contains(ClassName.CLASS_TOGGLER)||(e=e.closest(Selector.CLASS_TOGGLER)),ClassToggler._classTogglerInterface(e,"toggle")});const $=getjQuery();if($){const t=$.fn[NAME];$.fn[NAME]=ClassToggler.jQueryInterface,$.fn[NAME].Constructor=ClassToggler,$.fn[NAME].noConflict=(()=>($.fn[NAME]=t,ClassToggler.jQueryInterface))}export default ClassToggler;
//# sourceMappingURL=/sm/1e5786e31740d9d66f44a675c44001df92f99aa404f35c66745b33dca86a9e4c.map