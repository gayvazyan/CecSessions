/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/@coreui/coreui@3.0.0/js/src/dom/event-handler.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{getjQuery}from"../util/index";import{createCustomEvent,defaultPreventedPreservedOnDispatch}from"./polyfill";const $=getjQuery(),namespaceRegex=/[^.]*(?=\..*)\.|.*/,stripNameRegex=/\..*/,keyEventRegex=/^key/,stripUidRegex=/::\d+$/,eventRegistry={};let uidEvent=1;const customEvents={mouseenter:"mouseover",mouseleave:"mouseout"},nativeEvents=["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"];function getUidEvent(e,t){return t&&`${t}::${uidEvent++}`||e.uidEvent||uidEvent++}function getEvent(e){const t=getUidEvent(e);return e.uidEvent=t,eventRegistry[t]=eventRegistry[t]||{},eventRegistry[t]}function fixEvent(e,t){null===e.which&&keyEventRegex.test(e.type)&&(e.which=null===e.charCode?e.keyCode:e.charCode),e.delegateTarget=t}function bootstrapHandler(e,t){return function n(r){return fixEvent(r,e),n.oneOff&&EventHandler.off(e,r.type,t),t.apply(e,[r])}}function bootstrapDelegationHandler(e,t,n){return function r(o){const a=e.querySelectorAll(t);for(let{target:t}=o;t&&t!==this;t=t.parentNode)for(let i=a.length;i--;)if(a[i]===t)return fixEvent(o,t),r.oneOff&&EventHandler.off(e,o.type,n),n.apply(t,[o]);return null}}function findHandler(e,t,n=null){const r=Object.keys(e);for(let o=0,a=r.length;o<a;o++){const a=e[r[o]];if(a.originalHandler===t&&a.delegationSelector===n)return a}return null}function normalizeParams(e,t,n){const r="string"==typeof t,o=r?n:t;let a=e.replace(stripNameRegex,"");const i=customEvents[a];return i&&(a=i),nativeEvents.indexOf(a)>-1||(a=e),[r,o,a]}function addHandler(e,t,n,r,o){if("string"!=typeof t||!e)return;n||(n=r,r=null);const[a,i,l]=normalizeParams(t,n,r),s=getEvent(e),d=s[l]||(s[l]={}),c=findHandler(d,i,a?n:null);if(c)return void(c.oneOff=c.oneOff&&o);const u=getUidEvent(i,t.replace(namespaceRegex,"")),f=a?bootstrapDelegationHandler(e,n,r):bootstrapHandler(e,n);f.delegationSelector=a?n:null,f.originalHandler=i,f.oneOff=o,f.uidEvent=u,d[u]=f,e.addEventListener(l,f,a)}function removeHandler(e,t,n,r,o){const a=findHandler(t[n],r,o);a&&(e.removeEventListener(n,a,Boolean(o)),delete t[n][a.uidEvent])}function removeNamespacedHandlers(e,t,n,r){const o=t[n]||{};Object.keys(o).forEach(a=>{if(a.indexOf(r)>-1){const r=o[a];removeHandler(e,t,n,r.originalHandler,r.delegationSelector)}})}const EventHandler={on(e,t,n,r){addHandler(e,t,n,r,!1)},one(e,t,n,r){addHandler(e,t,n,r,!0)},off(e,t,n,r){if("string"!=typeof t||!e)return;const[o,a,i]=normalizeParams(t,n,r),l=i!==t,s=getEvent(e),d="."===t.charAt(0);if(void 0!==a){if(!s||!s[i])return;return void removeHandler(e,s,i,a,o?n:null)}d&&Object.keys(s).forEach(n=>{removeNamespacedHandlers(e,s,n,t.slice(1))});const c=s[i]||{};Object.keys(c).forEach(n=>{const r=n.replace(stripUidRegex,"");if(!l||t.indexOf(r)>-1){const t=c[n];removeHandler(e,s,i,t.originalHandler,t.delegationSelector)}})},trigger(e,t,n){if("string"!=typeof t||!e)return null;const r=t.replace(stripNameRegex,""),o=t!==r,a=nativeEvents.indexOf(r)>-1;let i,l=!0,s=!0,d=!1,c=null;return o&&$&&(i=$.Event(t,n),$(e).trigger(i),l=!i.isPropagationStopped(),s=!i.isImmediatePropagationStopped(),d=i.isDefaultPrevented()),a?(c=document.createEvent("HTMLEvents")).initEvent(r,l,!0):c=createCustomEvent(t,{bubbles:l,cancelable:!0}),void 0!==n&&Object.keys(n).forEach(e=>{Object.defineProperty(c,e,{get:()=>n[e]})}),d&&(c.preventDefault(),defaultPreventedPreservedOnDispatch||Object.defineProperty(c,"defaultPrevented",{get:()=>!0})),s&&e.dispatchEvent(c),c.defaultPrevented&&void 0!==i&&i.preventDefault(),c}};export default EventHandler;
//# sourceMappingURL=/sm/c95ea2c6aa9245068016c6a640dd581710ee22592e77cda173c24b693e242493.map